<?xml version="1.0" encoding="UTF-8"?>
<ExternalCredential xmlns="http://soap.sforce.com/2006/04/metadata">
    <authenticationProtocol>Oauth</authenticationProtocol>
    <externalCredentialParameters>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>Scope</parameterName>
        <parameterType>AuthParameter</parameterType>
        <parameterValue>api full refresh_token offline_access</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <parameterGroup>byuser</parameterGroup>
        <parameterName>Scope</parameterName>
        <parameterType>AuthParameter</parameterType>
        <parameterValue>api full refresh_token offline_access</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <parameterGroup>byuser</parameterGroup>
        <parameterName>byuser</parameterName>
        <parameterType>PerUserPrincipal</parameterType>
        <sequenceNumber>1</sequenceNumber>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>Oauth</parameterName>
        <parameterType>AuthProtocolVariant</parameterType>
        <parameterValue>JwtBearer</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>AuthProviderUrl</parameterName>
        <parameterType>AuthProviderUrl</parameterType>
        <parameterValue>https://application-perfection-dev-ed.my.salesforce.com</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <certificate>MetaCert</certificate>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>SigningCertificate</parameterName>
        <parameterType>SigningCertificate</parameterType>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <description>Issuer</description>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>iss</parameterName>
        <parameterType>JwtBodyClaim</parameterType>
        <parameterValue>3MVG9HxRZv05HarRXsw3EZ9lM0wItbgDzJ6PARNxS94tgJBXRuS2rrRnGlHjHtSfTwoSCkh_xO5pYJkml0ZKs</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <description>Subject</description>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>sub</parameterName>
        <parameterType>JwtBodyClaim</parameterType>
        <parameterValue>tejas@applicationperfection.com</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <description>Audience</description>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>aud</parameterName>
        <parameterType>JwtBodyClaim</parameterType>
        <parameterValue>&quot;https://login.salesforce.com&quot;</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <description>Expiration Time</description>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>exp</parameterName>
        <parameterType>JwtBodyClaim</parameterType>
        <parameterValue>{!Text(FLOOR((NOW() - DATETIMEVALUE( &quot;1970-01-01 00:00:00&quot; )) * 86400 + 300))}</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <description>Algorithm</description>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>alg</parameterName>
        <parameterType>JwtHeaderClaim</parameterType>
        <parameterValue>RS256</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <description>Type</description>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>typ</parameterName>
        <parameterType>JwtHeaderClaim</parameterType>
        <parameterValue>JWT</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <description>Issued At</description>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>iat</parameterName>
        <parameterType>JwtBodyClaim</parameterType>
        <parameterValue>{!Text(FLOOR((NOW() - DATETIMEVALUE( &quot;1970-01-01 00:00:00&quot; )) * 86400))}</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <description>Not Before</description>
        <parameterGroup>DefaultGroup</parameterGroup>
        <parameterName>nbf</parameterName>
        <parameterType>JwtBodyClaim</parameterType>
        <parameterValue>{!Text(FLOOR((NOW() - DATETIMEVALUE( &quot;1970-01-01 00:00:00&quot; )) * 86400))}</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <parameterGroup>named</parameterGroup>
        <parameterName>Scope</parameterName>
        <parameterType>AuthParameter</parameterType>
        <parameterValue>api full refresh_token offline_access</parameterValue>
    </externalCredentialParameters>
    <externalCredentialParameters>
        <parameterGroup>named</parameterGroup>
        <parameterName>named</parameterName>
        <parameterType>NamedPrincipal</parameterType>
        <sequenceNumber>2</sequenceNumber>
    </externalCredentialParameters>
    <label>Auth</label>
</ExternalCredential>
